<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>For You My Love</title>
  <link rel="stylesheet" href="letter.css" />
</head>
<body>
  <div class="container">
    <!-- Love Letter -->
    <div class="letter">
      <h1>FOR YOU MY LOVE ğŸ’Œ</h1>
      <p>
        My dearest love,<br><br>
        Every heartbeat of mine whispers your name.  
        Every breeze carries your fragrance.  
        You are my today, my tomorrow, and my forever. ğŸ’–  
        <br><br>With endless love,<br>Yours always â¤ï¸
      </p>
    </div>

    <!-- Video Section -->
    <div class="video-container">
      <video id="loveVideo" autoplay loop playsinline>
        <source src="./pictures/video.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
      <button id="playPauseBtn" class="hidden">â¸ï¸</button>
    </div>
  </div>

<script>
const video = document.getElementById("loveVideo");
const playPauseBtn = document.getElementById("playPauseBtn");

// Check if user interacted on previous page
const userClicked = sessionStorage.getItem('userClicked');
if(userClicked === 'true'){
  video.muted = false; // enable sound
  video.play();         // play immediately
  sessionStorage.removeItem('userClicked'); // clear flag
} else {
  video.muted = true;  // autoplay muted if no prior click
  video.play();
}

// Toggle pause/play on video click
video.addEventListener("click", () => {
  if (video.paused) {
    video.play();
    playPauseBtn.classList.add("hidden");
  } else {
    video.pause();
    playPauseBtn.classList.remove("hidden");
  }
});

// Show/hide button based on play/pause
video.addEventListener("play", () => playPauseBtn.classList.add("hidden"));
video.addEventListener("pause", () => playPauseBtn.classList.remove("hidden"));
</script>
</body>
</html>
